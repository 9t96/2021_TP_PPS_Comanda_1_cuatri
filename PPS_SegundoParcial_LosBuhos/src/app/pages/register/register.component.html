<ion-content fullscreen color="">
  <div class="form-register">
    <ion-toolbar color="">
      <ion-title class="ion-text-center">
        <h2>Registrar Usuario</h2>
      </ion-title>
    </ion-toolbar>
    <br>

    <div [ngSwitch]="formSelected">
      <!-- Form 1 -->
      <form [formGroup]="form1" (ngSubmit)="goTo(2)" *ngSwitchCase="1"> 

        <!-- foto perfil -->
        <div class="" >
          <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getNameControl().errors?.required && getNameControl().touched">Campo obligatorio</small>          
        </div>
        <ion-item >          
          <div class="mx-auto d-block circular--portrait" (click)="tomarFotoPerfil()">            
            <img [src]="srcTest" >
          </div>            
        </ion-item>

        <!-- nombre -->
        <div class="" >
          <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getNameControl().errors?.required && getNameControl().touched">Campo obligatorio</small>
          <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getNameControl().errors?.minlength && getNameControl().touched">Mínimo 2 caracteres</small>
        </div>
      <ion-item color="" class="ion-padding-start ion-padding-end" fill="outline">
        <ion-label position= "floating"><ion-icon name="person-outline"></ion-icon> Nombre *</ion-label><br>
        <ion-input 
          type="text" 
          formControlName="name" 
          [(ngModel)]="user.nombre" 
          >
        </ion-input>
      </ion-item>
  
      <!-- apellido -->
      <div class="" >
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getLastNameControl().errors?.required && getLastNameControl().touched">Campo obligatorio</small>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getLastNameControl().errors?.minlength && getLastNameControl().touched">Mínimo 2 caracteres</small>
      </div>
      <ion-item color="" class="ion-padding-start ion-padding-end" fill="outline">
        <ion-label position= "floating"><ion-icon name="person-outline"></ion-icon> Apellido</ion-label><br>
        <ion-input 
          type="text" 
          formControlName="lastName" 
          [(ngModel)]="user.apellido" 
          >
        </ion-input>
      </ion-item>

  
      <!-- dni -->
      <div class="" >
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getDniControl()?.errors?.required && getDniControl()?.touched">Campo obligatorio</small>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="(getDniControl()?.errors?.min || getDniControl()?.errors?.max) && getDniControl()?.touched && !getDniControl()?.errors?.pattern">El valor debe estar entre 999999999 y 1000000</small>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getDniControl()?.errors?.pattern && getDniControl()?.touched">Sólo se permiten números</small>
      </div>
      <ion-item color="" class="ion-padding-start ion-padding-end" fill="outline">
        <ion-label position= "floating"><ion-icon name="person-outline"></ion-icon> DNI</ion-label><br>
        <ion-input 
          type="text" 
          formControlName="dni" 
          [(ngModel)]="user.dni" 
          >
        </ion-input>
      </ion-item>

      <br>  
      <p class="ion-padding-start ion-padding-end" > 
        <ion-button type="submit" expand="block" color="" class="btn-siguiente" [disabled]="form1.invalid">Siguiente</ion-button>
      </p>
      </form>

      <!-- Form 2 -->
      <form [formGroup]="form2" (ngSubmit)="registrarseClick()" *ngSwitchCase="2">   

        <ion-item >          
          <div class="mx-auto d-block circular--portrait" (click)="tomarFotoPerfil()">            
            <img [src]="srcTest" >
          </div>            
        </ion-item>

      <!-- email -->
      <ion-item color="" class="ion-padding-start ion-padding-end" fill="outline">
        <ion-label position= "floating"><ion-icon name="mail-outline"></ion-icon> Email *</ion-label><br>
        <ion-input 
          type="email" 
          formControlName="email" 
          [(ngModel)]="user.correo" 
          >
        </ion-input>
      </ion-item>
      <div>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getEmailControl().errors?.required && getEmailControl().touched">Campo obligatorio</small>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getEmailControl().errors?.email && getEmailControl().touched">Formato incorrecto</small>
      </div>
  
      <!-- pass 01 -->
      <ion-item class="ion-padding-start ion-padding-end" color="">
        <ion-label position= "floating"><ion-icon name="lock-closed-outline"></ion-icon> Contraseña *</ion-label>
        <ion-input 
          type="password" 
          formControlName="pass1"
          [(ngModel)]="pass" >
        </ion-input>
      </ion-item>
      <div>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getPass1Control().errors?.required && getPass1Control().touched">Campo obligatorio</small>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getPass1Control().errors?.minlength && getPass1Control().touched">Mínimo 6 caracteres</small>
      </div>
  
      <!-- pass 02 -->
      <ion-item class="ion-padding-start ion-padding-end" color="">
        <ion-label position= "floating"><ion-icon name="lock-closed-outline"></ion-icon> Confirmar Contraseña *</ion-label>
        <ion-input 
          type="password"
          formControlName="pass2"
          [(ngModel)]="passConfirmation">
        </ion-input>
      </ion-item>
      <div>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getPass2Control().errors?.required  && getPass2Control().touched">Campo obligatorio</small>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getPass2Control().errors?.minlength  && getPass2Control().touched">Mínimo 6 caracteres</small>
      </div>
      <br>
  
      <p class="ion-padding-start ion-padding-end" > 
        <ion-button type="submit" expand="block" color="" class="btn-register" [disabled]="form2.invalid">Registrarse</ion-button>
      </p>
      </form>
    </div>

    

    <!-- <p class="ion-padding-start ion-padding-end" > 
      <ion-button type="ion-button" expand="block" color="secondary" class="btn-login" (click)="goToLogin()">Ingresar</ion-button>
    </p> -->

          <!-- genero -->
      <!-- <ion-item color="" class="ion-padding-start ion-padding-end" fill="outline">
        <ion-label position= "floating"><ion-icon name="male-female-outline"></ion-icon> Género</ion-label><br>
        <ion-select 
          interface="popover" 
          formControlName="genero" 
          [(ngModel)]="registerData.genero">
          <ion-select-option value="1">Femenino</ion-select-option>
          <ion-select-option value="2">Masculino</ion-select-option>
          <ion-select-option value="3">Otro</ion-select-option>
        </ion-select>
      </ion-item>
      <div>
        <small class="error-input-message ion-padding-start ion-padding-end" *ngIf="getGeneroControl().errors?.required && getGeneroControl().touched">Campo obligatorio</small>
      </div> -->
    
  </div>
</ion-content>

