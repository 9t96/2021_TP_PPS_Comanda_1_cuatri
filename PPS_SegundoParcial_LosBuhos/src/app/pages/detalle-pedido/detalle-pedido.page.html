<ion-header>
  <ion-toolbar color="medium">
    <ion-back-button defaultHref="mesas" slot="start"></ion-back-button>
    <ion-title>Detalle de pedido</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
<div *ngIf="isLoaded">
  <p>Estado:         <ion-chip color="medium">
    <ion-label color="dark">{{pedido.estado}}</ion-label>
  </ion-chip></p>
  <p>Nro mesa: {{pedido.nro_mesa}}</p>
  <p *ngIf="pedido.demora_estimada">Demora: {{pedido.demora_estimada}} min</p>
  <p *ngIf="pedido.productos">Total: ${{pedido.total}}</p>
  <ion-list *ngIf="pedido.productos">
    <ion-item *ngFor="let item of pedido.productos; let index=index">
      <ion-avatar>
        <img [src]="item.img_src">
      </ion-avatar>
      <ion-label>
        <h1>{{item.nombre}}</h1>
        <ion-row>
          <h2>Estado: </h2>
          <h2 style="margin-left:1em"><ion-icon name="timer-outline"></ion-icon>{{item.tiempo_elaboracion}} min</h2>
        </ion-row>
      </ion-label>
      <strong>X {{item.cantidad}}</strong>

      
    </ion-item>
  </ion-list>
  <!-- ACTIONS MOZO -->
  <div *ngIf="isMozo">
    <ion-button *ngIf="pedido.estado == 'SENTADO'" (click)="navigateCarta()">
      Tomar pedido
    </ion-button>
    <ion-button *ngIf="pedido.estado == 'CONFIRMANDO_PEDIDO'" (click)="AprobarPedido()">
      Aprobar pedido
    </ion-button>
    <ion-button>
      Chat
    </ion-button>
    
  </div>
  <!-- ACTIONS CLIENTE -->
  <div *ngIf="!isMozo">
    <ion-button *ngIf="pedido.estado == 'PEDIDO_ENTREGADO'">
      Confirmar recepcion
    </ion-button>
  </div>
</div>
</ion-content>
